# 移動・ジャンプ操作

## 基本移動

### 文字・単語移動
| キー | 動作 | 説明 |
|------|------|------|
| `h/j/k/l` | ←/↓/↑/→ | 基本移動 |
| `w/W` | 次の単語へ | word/WORD |
| `b/B` | 前の単語へ | back word/WORD |
| `e/E` | 単語末尾へ | end of word/WORD |
| `0/$` | 行頭/行末 | 行の開始/終了 |
| `^` | 非空白行頭 | 最初の非空白文字 |
| `<LocalLeader>h` | 行頭へ | `^`と同じ（より押しやすい） |
| `<LocalLeader>l` | 行末へ | `$`と同じ（より押しやすい） |

### 行移動
| キー | 動作 | 説明 |
|------|------|------|
| `gg/G` | ファイル先頭/末尾 | 最初/最後の行 |
| `{数字}G` | 指定行へ | 行番号ジャンプ |
| `{/}` | 段落移動 | 前/次の段落 |
| `H/M/L` | 画面上/中/下 | High/Middle/Low |


## ジャンプリスト

| キー | 動作 | 説明 |
|------|------|------|
| `<C-o>` | 前の位置へ | ジャンプリストを戻る※ |
| `<C-i>` | 次の位置へ | ジャンプリストを進む※ |
| `:jumps` | リスト表示 | ジャンプリスト一覧 |

※ **toggle-manager（toggle: j）の設定により動作が変わる：**
- `file_local`（デフォルト）: 現在のファイル内のみでジャンプ
- `global`: 通常のVimジャンプリスト（ファイル間移動可能）

## 変更リスト

### 基本操作
| キー | 動作 | 説明 |
|------|------|------|
| `g;` | 前の変更位置へ | 変更リストを戻る＋モード開始 |
| `g,` | 次の変更位置へ | 変更リストを進む＋モード開始 |
| `'.` | 最終変更位置へ | 最後に編集した位置 |
| `:changes` | リスト表示 | 変更リスト一覧 |

### 変更リストモード（マイナーモード）
`g;` または `g,` でモード開始後、連続してジャンプ可能：

| キー | 動作 | 説明 |
|------|------|------|
| `;` | 前の変更位置へ | 変更リストを戻る |
| `,` | 次の変更位置へ | 変更リストを進む |
| `.` | 最終変更位置へ | 最後に編集した位置 |
| `?` | ヘルプ表示 | 使用可能なキーを表示 |
| `q`/`Esc` | モード終了 | 通常モードに戻る |

💡 **マイナーモードの利点**：
- `g`を押さずに`;`と`,`だけで連続ジャンプ
- モード中は画面下部にステータス表示
- `?`でいつでもヘルプ確認可能

## マーク

### ローカルマーク（ファイル内）
| キー | 動作 | 説明 |
|------|------|------|
| `ma-z` | マーク設定 | a-zのマークを設定 |
| `'a-z` | マークへ移動（行頭） | マークの行へ |
| `` `a-z `` | マークへ移動（正確） | マークの位置へ |
| `''` | 前の位置へ | 最後のジャンプ元 |
| `` `` `` | 前の位置へ（正確） | 最後のジャンプ元の位置 |

### グローバルマーク（ファイル間）
| キー | 動作 | 説明 |
|------|------|------|
| `mA-Z` | グローバルマーク | ファイル間で有効 |
| `'A-Z` | マークへ移動 | 他ファイルも開く |

### 特殊マーク
| キー | 動作 | 説明 |
|------|------|------|
| `'.` | 最後の変更位置 | 最後に編集した位置 |
| `'"` | 前回終了位置 | ファイルを開いた時の位置 |
| `'[/'']` | 変更/ヤンク範囲 | 開始/終了位置 |

## 検索ジャンプ

| キー | 動作 | 説明 |
|------|------|------|
| `*/#` | 単語検索 | カーソル下の単語を前/後検索 |
| `n/N` | 次/前の検索結果 | 検索結果を移動 |
| `gd` | 定義へジャンプ | LSP定義ジャンプ |
| `gD` | グローバル定義へ | ファイル内定義 |

## 診断ジャンプ（DIAGNOSTICモード）

### モード開始
| キー | 動作 | 説明 |
|------|------|------|
| `mo` | 次の診断へ＋モード開始 | 次のエラー/警告へ移動してモード開始 |
| `mi` | 前の診断へ＋モード開始 | 前のエラー/警告へ移動してモード開始 |

### モード内操作
DIAGNOSTICモード中は以下のキーが使用可能：

| キー | 動作 | 説明 |
|------|------|------|
| `o` | 次の診断 | 全種類の診断を対象 |
| `i` | 前の診断 | 全種類の診断を対象 |
| `n` | 次のERROR | エラーのみ |
| `p` | 前のERROR | エラーのみ |
| `k` | 次のWARN | 警告のみ |
| `j` | 前のWARN | 警告のみ |
| `>` | 次のINFO | 情報のみ |
| `<` | 前のINFO | 情報のみ |
| `.` | 次のHINT | ヒントのみ |
| `,` | 前のHINT | ヒントのみ |

## EasyMotion（プラグイン）

| キー | 動作 | 説明 |
|------|------|------|
| `<LocalLeader><Space>` | 2文字ジャンプ | 画面内の任意位置へ2文字でジャンプ |
| `x<LocalLeader><Space>` | 2文字ジャンプ（選択） | ビジュアルモードで2文字ジャンプ |

※ Migemoモード有効時（toggle: m）は日本語も検索可能

## Telescope 統合

### ジャンプ関連の一覧表示
| キー | 動作 | 説明 |
|------|------|------|
| `<Leader>j` | ジャンプリスト | ジャンプリストを表示・選択 |
| `<Leader>m` | マーク一覧 | 全マークを表示・ジャンプ |
| `<Leader>R` | レジスタ一覧 | レジスタ内容を表示 |
| `<Leader>d` | 診断一覧 | 全診断（エラー等）を表示・ジャンプ |
| `<Leader>q` | クイックフィックス | クイックフィックスリストを表示 |
| `<Leader>Q` | クイックフィックス履歴 | 過去のクイックフィックス |

## ファイル内ジャンプ（カスタム）

| キー | 動作 | 説明 |
|------|------|------|
| `<C-o>` | ファイル内戻る | toggle: j (file_local時) |
| `<C-i>` | ファイル内進む | toggle: j (file_local時) |

※ toggle-managerで`j`を切り替えると動作が変わる：
- `file_local`: 現在のファイル内のみでジャンプ（デフォルト）
- `global`: 通常のVimジャンプリスト（ファイル間移動）

## 使用プラグイン

- **vim-easymotion**: 2文字でのクイックジャンプ
- **jumpcursor.vim**: カーソルジャンプ補助（コメントアウト中）
- **telescope.nvim**: ジャンプリストの可視化

---
💡 **Tips**: 
- `<LocalLeader><Space>`（2文字ジャンプ）が最も高速
- ジャンプモード切り替え（toggle: j）でファイル内限定移動が可能
- Migemo有効時（toggle: m）は日本語もジャンプ可能