# デバイスコマンド一覧

## 1. モーションコマンド

| コマンド | 応答 | 解説 | 使用例 |
|---------|----------|----------|---------------|
| `MEX>MAG?` | `MEX>MAG_X.XXX` | デバイスから現在の拡大値を取得するコマンド | `MEX>MAG?` → `MEX>MAG_1.250` |
| `MEX>MAG!_X.XXX` | `MEX>MAG_X.XXX` | 新しい拡大値を設定するコマンド | `MEX>MAG!_2` → `MEX>MAG_2.000`<br>`MEX>MAG!_2.5` → `MEX>MAG_2.500` |
| `MEX>MOF?` | `MEX>MOF_X.XXX` | 現在の拡大調整係数を取得するコマンド<br>(0 - デバイス内のレンズが理論的な位置にある) | `MEX>MOF?` → `MEX>MOF_0.3` |
| `MEX>MOF!_X.XXX` | `MEX>MOF_X.XXX` | 拡大値を調整するコマンド：<br>+ 拡大を増加<br>- 拡大を減少<br>(例：1X拡大値選択時に実際値が1.09Xの場合、<br>校正するためMEX>MOF_-0.7を送信) | `MEX>MOF!_-0.7` → `MEX>MOF_-0.7` |
| `MEX>DOF?` | `MEX>DOF_X.XXX` | 現在の発散調整係数を取得するコマンド<br>(0 - デバイス内のレンズが理論的な位置にある) | `MEX>DOF?` → `MEX>DOF_1.6` |
| `MEX>DOF!_X.XXX` | `MEX>DOF_X.XXX` | ビームを平行化または発散値設定コマンド：<br>+ ビーム発散を増加<br>- ビーム発散を減少<br>(例：レーザービームが過度に発散している場合、<br>出力を観察しながらMEX>DOF_-0.5を送信) | `MEX>DOF!_-0.5` → `MEX>DOF_-0.5` |

## 2. 設定コマンド

| コマンド | 応答 | 解説 | 使用例 |
|---------|----------|----------|---------------|
| `MEX>BAUD?` | `MEX>BAUD_ボーレート` | ボーレート取得コマンド（デフォルト57600） | `MEX>BAUD?` → `MEX>BAUD_115200` |
| `MEX>BAUD!_ボーレート` | `MEX>BAUD_ボーレート` | ボーレート設定コマンド<br>利用可能速度：115200, 57600, 38400,<br>19200, 9600, 4800<br>その他の値は無視 | `MEX>BAUD!_57600` → `MEX>BAUD_57600` |
| `MEX>CWL?` | `MEX>CWL_XXX.X` | 現在の作動波長(nm)取得コマンド | `MEX>CWL?` → `MEX>CWL_532.0` |
| `MEX>CWL!_XXX.X` | `MEX>CWL_XXX.X` | 作動波長(nm)設定コマンド<br>設計波長に一致する場合のみ変更<br>設計波長はMEX>INFO?で確認可能 | `MEX>CWL!_1064` → `MEX>CWL_1064.0`<br>`MEX>CWL!_999` → `MEX>CWL_1064.0` |
| `MEX>CMAG?` | `MEX>CMAG_X.XX_Y.YY_...` | 曲線A(大文字)とB(小文字)の<br>多項式係数取得コマンド<br>0次から5次までの係数を科学表記法で表示 | `MEX>CMAG?` → `MEX>CMAG_-1.1154e3_...` |
| `MEX>CMAG!*X.XX*...` | `MEX>CMAG_X.XX_...` | 曲線A(大文字)とB(小文字)の<br>多項式係数設定コマンド<br>0次から5次までの係数を科学表記法で設定 | `MEX>CMAG!*-1.1154e3*...` → `MEX>CMAG_-1.1154e3_...` |

## 3. 情報コマンド

| コマンド | 応答 | 解説 | 使用例 |
|---------|----------|----------|---------------|
| `MEX>STATUS?` | `ENA_CON_DIRECT_ERR_XXX` | デバイスの現在の状態を取得するコマンド<br>・第1フラグ：要素駆動の有効/無効<br>・第2フラグ：自動目標座標計算の有効/無効<br>・第3フラグ：計算モードが反転/直接<br>・エラーバイト：アクティブなエラー状態<br>　ビット番号の意味（値が「高」の場合）：<br>　7-最大位置境界超過<br>　6-最小位置境界超過<br>　5-光学素子間の間隔違反<br>　4-計算エラー<br>　3-内部デバイス障害<br>　2-予約済み<br>　1-安定化中<br>　0-光学素子が動作中 | `MEX>STATUS?` → `DIS_COF_DIRECT_ERR_255` |
| `MEX>INFO?` | `MEX>MMG_X.XXX_Y.YYY_MDV_J.JJJ_K.KKK_CWL_QQQ.Q_WL_ZZZ.Z_UUU.U_VVV.V_WWW.W` | デバイスの現在の構成を取得するコマンド | `MEX>INFO?` → `MEX>MMG_8.000_1.000_MDV_2.000_1.000_CWL_532.0_WL_1064.0_532.0_0_0` |
| `MEX>ID?` | `MEX>_1BXXXXXXXX` | シリアル番号を取得するコマンド | `MEX>ID?` → `MEX>_1B19040075` |
| `MEX>MMG?` | `MEX>MMG_X.XXX_Y.YYY` | 利用可能な拡張係数の境界を取得するコマンド<br>最初に上限、次に下限が送信される<br>これらの境界は光学アセンブリに固有で、<br>工場で設定される | `MEX>MMG?` → `MEX>MMG_8.000_1.000` |

## 4. その他のコマンド

| コマンド | 応答 | 解説 | 使用例 |
|---------|----------|----------|---------------|
| `MEX>ECHO!` | `MEX>ECHO` | トラブルシューティング用コマンド<br>応答を送信する前に、送信されたコマンドを<br>デバイスがエコーする | `MEX>ECHO!` → `MEX>ECHO`<br>`MEX>MAG?` → `MEX>MAG?`<br>`MEX>MAG_2` |
| `MEX>NOECHO!` | `MEX>NOECHO` | ECHOコマンドを無効にするコマンド | `MEX>NOECHO!` → `MEX>NOECHO` |
| `MEX>RESET!` | - | デバイスをリセットするために使用するコマンド | `MEX>RESET!` → - |
| `MEX>ON!` | `MEX>ON` | 光学素子の駆動を有効にするコマンド | `MEX>ON!` → `MEX>ON` |
| `MEX>OFF!` | `MEX>OFF` | 光学素子の駆動を無効にするコマンド | `MEX>OFF!` → `MEX>OFF` |
| `BOOTMODE` | `BOOTMODE` | デバイスをファームウェア更新モードに<br>切り替えるために使用するコマンド | `BOOTMODE` → `BOOTMODE` |
